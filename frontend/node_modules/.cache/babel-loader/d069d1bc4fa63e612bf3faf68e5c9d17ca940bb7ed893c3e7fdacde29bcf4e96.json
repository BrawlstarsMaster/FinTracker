{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Svetlio\\\\Desktop\\\\rs\\\\rs\\\\frontend\\\\src\\\\pages\\\\StatsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement);\nconst StatsPage = () => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  useEffect(() => {\n    axios.get('/api/transactions').then(res => setTransactions(res.data));\n  }, []);\n\n  // Expenses by category\n  const expenses = transactions.filter(t => t.type === 'expense');\n  const categories = [...new Set(expenses.map(e => e.category))];\n  const expensesByCategory = categories.map(cat => expenses.filter(e => e.category === cat).reduce((sum, e) => sum + parseFloat(e.amount), 0));\n\n  // Income/Expenses by month\n  const months = Array.from({\n    length: 12\n  }, (_, i) => i + 1);\n  const incomeByMonth = months.map(m => transactions.filter(t => t.type === 'income' && new Date(t.date).getMonth() + 1 === m).reduce((sum, t) => sum + parseFloat(t.amount), 0));\n  const expenseByMonth = months.map(m => transactions.filter(t => t.type === 'expense' && new Date(t.date).getMonth() + 1 === m).reduce((sum, t) => sum + parseFloat(t.amount), 0));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: \"\\u0420\\u0430\\u0437\\u0445\\u043E\\u0434\\u0438 \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pie, {\n        data: {\n          labels: categories,\n          datasets: [{\n            data: expensesByCategory,\n            backgroundColor: ['#f87171', '#fbbf24', '#34d399', '#60a5fa', '#a78bfa', '#f472b6', '#facc15', '#38bdf8', '#818cf8', '#f472b6']\n          }]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: \"\\u041F\\u0440\\u0438\\u0445\\u043E\\u0434\\u0438 \\u0438 \\u0440\\u0430\\u0437\\u0445\\u043E\\u0434\\u0438 \\u043F\\u043E \\u043C\\u0435\\u0441\\u0435\\u0446\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        data: {\n          labels: months.map(m => `${m} месец`),\n          datasets: [{\n            label: 'Приходи',\n            data: incomeByMonth,\n            backgroundColor: 'rgba(34,197,94,0.7)'\n          }, {\n            label: 'Разходи',\n            data: expenseByMonth,\n            backgroundColor: 'rgba(239,68,68,0.7)'\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(StatsPage, \"tSC852gg/pAfbHr6jYEePbawnUU=\");\n_c = StatsPage;\nexport default StatsPage;\nvar _c;\n$RefreshReg$(_c, \"StatsPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","Bar","Pie","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","jsxDEV","_jsxDEV","register","StatsPage","_s","transactions","setTransactions","get","then","res","data","expenses","filter","t","type","categories","Set","map","e","category","expensesByCategory","cat","reduce","sum","parseFloat","amount","months","Array","from","length","_","i","incomeByMonth","m","Date","date","getMonth","expenseByMonth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","labels","datasets","backgroundColor","label","options","responsive","plugins","legend","position","_c","$RefreshReg$"],"sources":["C:/Users/Svetlio/Desktop/rs/rs/frontend/src/pages/StatsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement);\r\n\r\nconst StatsPage = () => {\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/transactions').then(res => setTransactions(res.data));\r\n  }, []);\r\n\r\n  // Expenses by category\r\n  const expenses = transactions.filter(t => t.type === 'expense');\r\n  const categories = [...new Set(expenses.map(e => e.category))];\r\n  const expensesByCategory = categories.map(cat =>\r\n    expenses.filter(e => e.category === cat).reduce((sum, e) => sum + parseFloat(e.amount), 0)\r\n  );\r\n\r\n  // Income/Expenses by month\r\n  const months = Array.from({ length: 12 }, (_, i) => i + 1);\r\n  const incomeByMonth = months.map(m =>\r\n    transactions.filter(t => t.type === 'income' && new Date(t.date).getMonth() + 1 === m)\r\n      .reduce((sum, t) => sum + parseFloat(t.amount), 0)\r\n  );\r\n  const expenseByMonth = months.map(m =>\r\n    transactions.filter(t => t.type === 'expense' && new Date(t.date).getMonth() + 1 === m)\r\n      .reduce((sum, t) => sum + parseFloat(t.amount), 0)\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Статистики</h1>\r\n      <div className=\"mb-8\">\r\n        <h2 className=\"text-xl font-semibold mb-2\">Разходи по категории</h2>\r\n        <Pie data={{\r\n          labels: categories,\r\n          datasets: [{\r\n            data: expensesByCategory,\r\n            backgroundColor: [\r\n              '#f87171', '#fbbf24', '#34d399', '#60a5fa', '#a78bfa', '#f472b6', '#facc15', '#38bdf8', '#818cf8', '#f472b6'\r\n            ]\r\n          }]\r\n        }} />\r\n      </div>\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold mb-2\">Приходи и разходи по месеци</h2>\r\n        <Bar data={{\r\n          labels: months.map(m => `${m} месец`),\r\n          datasets: [\r\n            { label: 'Приходи', data: incomeByMonth, backgroundColor: 'rgba(34,197,94,0.7)' },\r\n            { label: 'Разходи', data: expenseByMonth, backgroundColor: 'rgba(239,68,68,0.7)' }\r\n          ]\r\n        }} options={{ responsive: true, plugins: { legend: { position: 'top' } } }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}